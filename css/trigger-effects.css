/**
 * ============================================================================
 * TRIGGER EFFECTS CSS MODULE
 * ============================================================================
 * 
 * CSS animations and effects for trigger buttons (CHROMA, SPOTLIGHT, SHIMMER)
 * These effects apply transient animations to create visual feedback
 * 
 * Version: 1.0.0
 * Target: control-panel-v3-professional.css
 */

:root {
    --neon-primary: #00ff85;
    --neon-secondary: #00ffff;
    --neon-accent: #ff6600;
    --spot-x: 50%;
    --spot-y: 50%;
}

/* ============================================================================
   CHROMA EFFECT - Chromatic aberration and color split
   ============================================================================ */

@keyframes chromaSplit {
    0% { 
        filter: none; 
        transform: translateZ(0); 
        text-shadow: none;
    }
    10% { 
        filter: contrast(1.3) saturate(1.5); 
        text-shadow: 1px 0 #ff0000, -1px 0 #00ffff;
    }
    25% { 
        filter: contrast(1.4) saturate(1.8) hue-rotate(30deg); 
        text-shadow: 3px 0 #ff0066, -3px 0 #0066ff;
    }
    50% { 
        filter: contrast(1.2) saturate(2.0) hue-rotate(-45deg); 
        text-shadow: -2px 0 #ff3300, 2px 0 #0099ff;
    }
    75% { 
        filter: contrast(1.1) saturate(1.3) hue-rotate(15deg); 
        text-shadow: 1px 0 #ff6600, -1px 0 #00cc99;
    }
    100% { 
        filter: none; 
        text-shadow: none;
    }
}

.fx--chroma {
    animation: chromaSplit 700ms cubic-bezier(0.25, 0.1, 0.25, 1) both;
    will-change: filter, transform;
}

/* Apply to all child elements for more dramatic effect */
.fx--chroma * {
    animation: chromaSplit 700ms cubic-bezier(0.25, 0.1, 0.25, 1) both;
}

/* ============================================================================
   SPOTLIGHT EFFECT - Radial spotlight overlay
   ============================================================================ */

@keyframes spotlightFade {
    0% { 
        opacity: 0; 
        transform: scale(0.8);
    }
    15% { 
        opacity: 1; 
        transform: scale(1);
    }
    85% {
        opacity: 0.8;
        transform: scale(1.1);
    }
    100% { 
        opacity: 0; 
        transform: scale(1.2);
    }
}

.fx--spotlight {
    position: relative;
}

.fx--spotlight::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(
        circle 400px at var(--spot-x, 50%) var(--spot-y, 50%),
        rgba(0, 255, 133, 0.4) 0%,
        rgba(0, 255, 133, 0.25) 25%,
        rgba(0, 255, 133, 0.1) 50%,
        transparent 70%
    );
    animation: spotlightFade 900ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
    mix-blend-mode: screen;
    z-index: 9999;
}

/* Secondary glow effect */
.fx--spotlight::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(
        circle 200px at var(--spot-x, 50%) var(--spot-y, 50%),
        rgba(255, 255, 255, 0.3) 0%,
        rgba(255, 255, 255, 0.1) 30%,
        transparent 50%
    );
    animation: spotlightFade 900ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
    mix-blend-mode: overlay;
    z-index: 9998;
}

/* ============================================================================
   SHIMMER EFFECT - Diagonal shimmer sweep
   ============================================================================ */

@keyframes shimmerSweep {
    0% { 
        background-position: -300% 0; 
        opacity: 0; 
        transform: rotate(-5deg);
    }
    10% { 
        opacity: 0.9; 
        transform: rotate(0deg);
    }
    90% {
        opacity: 0.7;
        transform: rotate(5deg);
    }
    100% { 
        background-position: 300% 0; 
        opacity: 0; 
        transform: rotate(0deg);
    }
}

.fx--shimmer::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: linear-gradient(
        120deg,
        transparent 0%,
        rgba(0, 255, 133, 0.08) 25%,
        rgba(0, 255, 133, 0.25) 45%,
        rgba(255, 255, 255, 0.4) 50%,
        rgba(0, 255, 133, 0.25) 55%,
        rgba(0, 255, 133, 0.08) 75%,
        transparent 100%
    );
    background-size: 300% 100%;
    animation: shimmerSweep 850ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    mix-blend-mode: screen;
    z-index: 9998;
}

/* Add subtle pulse to background during shimmer */
.fx--shimmer {
    position: relative;
}

.fx--shimmer::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(
        45deg,
        rgba(0, 255, 133, 0.03) 0%,
        rgba(0, 255, 133, 0.06) 50%,
        rgba(0, 255, 133, 0.03) 100%
    );
    animation: shimmerSweep 850ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    mix-blend-mode: multiply;
    z-index: 9997;
}

/* ============================================================================
   ACCESSIBILITY - Respect reduced motion preferences
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
    .fx--chroma,
    .fx--chroma *,
    .fx--spotlight::after,
    .fx--spotlight::before,
    .fx--shimmer::after,
    .fx--shimmer::before {
        animation-duration: 100ms !important;
        animation-timing-function: linear !important;
        animation-iteration-count: 1 !important;
    }
    
    /* For users who prefer no motion at all, provide static alternatives */
    @media (prefers-reduced-motion: reduce) and (prefers-contrast: more) {
        .fx--chroma::before,
        .fx--spotlight::before,
        .fx--shimmer::after,
        .fx--shimmer::before {
            animation: none !important;
            opacity: 0.3;
            transition: opacity 200ms ease;
        }
        
        .fx--chroma {
            outline: 3px solid #00ff85;
            outline-offset: -3px;
        }
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .fx--chroma::before {
        background: rgba(255, 255, 255, 0.9);
        mix-blend-mode: difference;
    }
    
    .fx--spotlight::before {
        background: radial-gradient(
            circle 200px at var(--spot-x, 50%) var(--spot-y, 50%),
            rgba(255, 255, 255, 0.8) 0%,
            rgba(255, 255, 255, 0.4) 30%,
            transparent 50%
        );
    }
    
    .fx--shimmer::after {
        background-image: linear-gradient(
            120deg,
            transparent 0%,
            rgba(255, 255, 255, 0.3) 25%,
            rgba(255, 255, 255, 0.8) 45%,
            rgba(255, 255, 255, 1) 50%,
            rgba(255, 255, 255, 0.8) 55%,
            rgba(255, 255, 255, 0.3) 75%,
            transparent 100%
        );
    }
}

/* ============================================================================
   UTILITY - Cleanup classes
   ============================================================================ */

/* Remove effects immediately (for cleanup) */
.fx--clear,
.fx--clear::before,
.fx--clear::after {
    animation: none !important;
    opacity: 0 !important;
    display: none !important;
}

/* Effect lock indicator (prevent overlapping effects) */
.fx--locked {
    pointer-events: none;
    opacity: 0.7;
}

/* ============================================================================
   FOCUS & INTERACTION ACCESSIBILITY
   ============================================================================ */

/* Enhanced focus states for trigger buttons during effect activation */
.trigger-btn[data-effect="chroma-pulse"]:focus-visible,
.trigger-btn[data-effect="spotlight-sweep"]:focus-visible,
.trigger-btn[data-effect="heat-shimmer"]:focus-visible {
    outline: 3px solid #00ff85;
    outline-offset: 3px;
    box-shadow: 0 0 20px rgba(0, 255, 133, 0.5);
}

/* Active effect feedback on trigger buttons */
.trigger-btn[data-effect="chroma-pulse"].fx-active {
    background: rgba(255, 0, 100, 0.3);
    border-color: #ff0064;
    animation: chromaButtonPulse 200ms ease-out;
}

.trigger-btn[data-effect="spotlight-sweep"].fx-active {
    background: rgba(255, 255, 255, 0.2);
    border-color: #ffffff;
    animation: spotlightButtonGlow 200ms ease-out;
}

.trigger-btn[data-effect="heat-shimmer"].fx-active {
    background: rgba(0, 255, 133, 0.3);
    border-color: #00ff85;
    animation: shimmerButtonGlow 200ms ease-out;
}

@keyframes chromaButtonPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

@keyframes spotlightButtonGlow {
    0% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.3); }
    50% { box-shadow: 0 0 25px rgba(255, 255, 255, 0.8); }
    100% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.3); }
}

@keyframes shimmerButtonGlow {
    0% { box-shadow: 0 0 5px rgba(0, 255, 133, 0.3); }
    50% { box-shadow: 0 0 25px rgba(0, 255, 133, 0.8); }
    100% { box-shadow: 0 0 5px rgba(0, 255, 133, 0.3); }
}

/* ============================================================================
   SCREEN READER & ASSISTIVE TECHNOLOGY SUPPORT
   ============================================================================ */

/* Visually hidden announcements for screen readers */
.sr-announcement {
    position: absolute;
    left: -10000px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: polygon(0px 0px, 0px 0px, 0px 0px);
}

/* Effect status indicators for assistive technology */
.fx--chroma[aria-live="polite"]::after,
.fx--spotlight[aria-live="polite"]::after,
.fx--shimmer[aria-live="polite"]::after {
    content: attr(data-effect-name) " effect active";
    position: absolute;
    left: -10000px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Keyboard navigation indicators */
.trigger-effects-container:focus-within {
    outline: 2px dashed rgba(0, 255, 133, 0.5);
    outline-offset: 4px;
}

/* Reduced animation timing for better accessibility */
@media (prefers-reduced-motion: reduce) {
    .trigger-btn.fx-active,
    .fx-active {
        animation-duration: 50ms !important;
    }
    
    @keyframes chromaButtonPulse {
        0%, 100% { transform: scale(1); }
    }
    
    @keyframes spotlightButtonGlow {
        0%, 100% { box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }
    }
    
    @keyframes shimmerButtonGlow {
        0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 133, 0.5); }
    }
}
